---
title: "Package: rbac.v2"
docType: client-package
package:
  classes:
    - name: Workspace
      description: Represents a workspace object from RBAC v2 API
      properties:
        - name: id
          type:
            name: string
          description: Workspace identifier
        - name: name
          type:
            name: string
          description: Workspace name
        - name: type
          type:
            name: string
          description: Workspace type (e.g., "root", "default")
        - name: description
          type:
            name: string
          description: Workspace description
  functions:
    - name: fetchRootWorkspace
      description: |
        Fetches the root workspace for the specified organization.
        This function queries RBAC v2 to find the root workspace for the given orgId.
        
        GET /api/rbac/v2/workspaces/?type=root
        
        Example:
        
        ```python
        from kessel.auth import fetchOIDCDiscovery, OAuth2ClientCredentials
        
        # Configure OAuth2 credentials
        discovery = fetchOIDCDiscovery("https://sso.example.com/auth/")
        authCredentials = OAuth2ClientCredentials(
            clientId="your-client-id",
            clientSecret="your-client-secret",
            tokenEndpoint=discovery.tokenEndpoint,
        )
        
        # Fetch the root workspace
        rootWorkspace = fetchRootWorkspace(
            oauthCredentials=authCredentials,
            rbacBaseEndpoint="https://console.stage.redhat.com/",
            orgId="12345"
        )
        print(f"Root workspace: {rootWorkspace['name']}")
        workspaceId = rootWorkspace["id"]
        ```
        
      params:
        - name: oauthCredentials
          type:
            name: OAuth2ClientCredentials
            link: ../auth/#class-OAuth2ClientCredentials
          description: |
            OAuth2 client credentials for automatic auth. The function will internally 
            create the appropriate auth adapter for the HTTP library.
        - name: rbacBaseEndpoint
          type:
            name: string
          description: The RBAC service endpoint URL (stage/prod/ephemeral)
        - name: orgId
          type:
            name: string
          description: Organization ID to use for the request.
        - name: httpClient
          type:
            name: HttpClient
          optional: true
          description: |
            Optional HTTP client instance (e.g., requests, http.Client). 
            If not provided, uses the default HTTP client for the language.
            Allows users to inject custom HTTP clients with additional headers or configuration.
      returns:
        name: Workspace
        link: "#class-Workspace"
        description: |
          A Workspace object representing the root workspace for the organization.

    - name: fetchDefaultWorkspace
      description: |
        Fetches the default workspace for the specified organization.
        This function queries RBAC v2 to find the default workspace for the given orgId.
        
        GET /api/rbac/v2/workspaces/?type=default
        
        Example:
        
        ```python
        from kessel.auth import fetchOIDCDiscovery, OAuth2ClientCredentials
        
        # Configure OAuth2 credentials
        discovery = fetchOIDCDiscovery("https://sso.example.com/auth/")
        authCredentials = OAuth2ClientCredentials(
            clientId="your-client-id",
            clientSecret="your-client-secret",
            tokenEndpoint=discovery.tokenEndpoint,
        )
        
        # Fetch the default workspace
        defaultWorkspace = fetchDefaultWorkspace(
            oauthCredentials=authCredentials,
            rbacBaseEndpoint="https://console.stage.redhat.com/",
            orgId="12345"
        )
        print(f"Default workspace: {defaultWorkspace['name']}")
        workspaceId = defaultWorkspace["id"]
        ```
        
      params:
        - name: oauthCredentials
          type:
            name: OAuth2ClientCredentials
            link: ../auth/#class-OAuth2ClientCredentials
          description: |
            OAuth2 client credentials for automatic auth. The function will internally 
            create the appropriate auth adapter for the HTTP library.
        - name: rbacBaseEndpoint
          type:
            name: string
          description: The RBAC service endpoint URL (stage/prod/ephemeral)
        - name: orgId
          type:
            name: string
          description: Organization ID to use for the request.
        - name: httpClient
          type:
            name: HttpClient
          optional: true
          description: |
            Optional HTTP client instance (e.g., requests, http.Client). 
            If not provided, uses the default HTTP client for the language.
            Allows users to inject custom HTTP clients with additional headers or configuration.
      returns:
        name: Workspace
        link: "#class-Workspace"
        description: |
          A Workspace object representing the default workspace for the organization.
---

Package for RBAC v2 client methods.