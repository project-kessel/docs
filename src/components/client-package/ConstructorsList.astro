---
import ParameterList from "./ParameterList.astro";
import ParameterDetail from "./ParameterDetail.astro";
import DescriptionBlock from "./DescriptionBlock.astro";
import type { Constructor } from "../../schemas/client-package";
import LanguagesIndicator from "./LanguagesIndicator.astro";

interface Props {
  constructors?: Constructor[];
  className: string;
}

const { constructors, className } = Astro.props;
---

{
  constructors && (
    <>
      <h4>Constructors</h4>
      <ul>
        {constructors.map((constructor) => (
          <li>
            <code>
              {constructor.name
                ? `${className}.${constructor.name}`
                : className}
            </code>
            (<ParameterList params={constructor.params} />)
            <LanguagesIndicator
              languages={constructor.languages}
              context="constructor"
            />
            <DescriptionBlock description={constructor.description} />
            <ParameterDetail params={constructor.params} />
          </li>
        ))}
      </ul>
    </>
  )
}
